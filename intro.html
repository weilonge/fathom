

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Introduction &mdash; Fathom 2.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/tweaks.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Fathom 2.0 documentation" href="index.html"/>
        <link rel="next" title="Using Fathom" href="using.html"/>
        <link rel="prev" title="Fathom" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Fathom
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#why">Why?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#specific-areas-we-address">Specific Areas We Address</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bonus-features">Bonus Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#support">Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="using.html">Using Fathom</a></li>
<li class="toctree-l1"><a class="reference internal" href="ruleset.html">Rule and Ruleset Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utility Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="versions.html">Version History</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Fathom</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 







<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Introduction</li>
    <li class="wy-breadcrumbs-aside">
      
          
          <a href="_sources/intro.rst.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>Fathom is a JavaScript framework for extracting meaning from web pages, identifying parts like Previous/Next buttons, address forms, and the main textual content—or classifying a page as a whole. Essentially, it scores DOM nodes and extracts them based on conditions you specify. A Prolog-inspired system of types and annotations expresses dependencies between scoring steps and keeps state under control. It also provides the freedom to extend existing sets of scoring rules without editing them directly, so multiple third-party refinements can be mixed together.</p>
<div class="section" id="why">
<h2>Why?<a class="headerlink" href="#why" title="Permalink to this headline">¶</a></h2>
<p>A study of existing projects like Readability and Distiller suggests that purely imperative approaches to semantic extraction get bogged down in the mechanics of DOM traversal and state accumulation, obscuring the operative parts of the extractors and making new ones long and tedious to write. They are also brittle due to the promiscuous profusion of state. Fathom is an exploration of whether we can make extractors simpler and more extensible by providing a declarative framework around these weak points. In short, Fathom handles tree-walking, execution order, and annotation bookkeeping so you don&#8217;t have to.</p>
</div>
<div class="section" id="specific-areas-we-address">
<h2>Specific Areas We Address<a class="headerlink" href="#specific-areas-we-address" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Browser-native DOM nodes are mostly immutable, and <code class="docutils literal"><span class="pre">HTMLElement.dataset</span></code> is string-typed, so storing arbitrary intermediate data on nodes is clumsy. Fathom addresses this by providing the Fathom node (or <a class="reference internal" href="glossary.html#term-fnode"><span class="xref std std-term">fnode</span></a>, pronounced fuh-NODE), a proxy around each DOM node which we can scribble on.</li>
<li>With imperative extractors, any experiments or site-specific customizations must be hard-coded in. On the other hand, Fathom&#8217;s <a class="reference internal" href="glossary.html#term-ruleset"><span class="xref std std-term">rulesets</span></a> (the programs you write in Fathom) are unordered and thereby decoupled, stitched together only by the <a class="reference internal" href="glossary.html#term-type"><span class="xref std std-term">types</span></a> they consume and emit. External rules can thus be plugged into existing rulesets, making it easy to experiment without maintaining a fork—or to provide dedicated rules for particularly intractable web sites.</li>
<li>Types provide an easy way to categorize DOM nodes. They are also Fathom&#8217;s black-box units of abstraction, as functions are in other programming languages. Complex extractors can begin by attaching broad types to nodes and then narrowing to more specific ones as they are examined more closely. (Each type implicitly provides a hook point to interpose additional rules.) Relationships between type-taggings can also be harnessed through logical operators like <a class="reference internal" href="ruleset.html#and" title="and"><code class="xref js js-func docutils literal"><span class="pre">and()</span></code></a>, and, in the future, <code class="docutils literal"><span class="pre">or</span></code>, <code class="docutils literal"><span class="pre">not</span></code>, and <code class="docutils literal"><span class="pre">contains</span></code>, building higher levels of abstraction.</li>
<li>The type system also makes explicit the division between a ruleset&#8217;s public and private APIs: the types are public, and the imperative activity that goes on inside callback functions is private. Third-party rules can use the types as hook points to interpose themselves.</li>
<li>Persistent state is cordoned off in typed <a class="reference internal" href="glossary.html#term-note"><span class="xref std std-term">notes</span></a> on fnodes. Thus, when a rule declares that it takes such-and-such a type as input, it can rightly assume (if rules are written consistently) there will be a note of that type on the fnodes that are passed in.</li>
</ul>
<div class="section" id="bonus-features">
<h3>Bonus Features<a class="headerlink" href="#bonus-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Efficient execution, driven by a query planner that understands inter-rule dependencies</li>
<li>Lazy execution, so you can have arbitrarily large rulesets with impunity</li>
<li>Caching to keep from re-deriving intermediate results between queries</li>
<li>Clustering based on a notion of DOM node distance influenced by structural similarity</li>
<li>Many handy utils from which to compose scoring callbacks</li>
</ul>
</div>
</div>
<div class="section" id="support">
<h2>Support<a class="headerlink" href="#support" title="Permalink to this headline">¶</a></h2>
<p>If the rest of this documentation doesn&#8217;t answer your question, join us in IRC: #fathom on irc.mozilla.org. In fact, join us regardless. Also feel free to open <a class="reference external" href="https://github.com/mozilla/fathom/issues">an issue on GitHub</a>.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="using.html" class="btn btn-neutral float-right" title="Using Fathom" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Fathom" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Mozilla Foundation.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>